{% extends 'base.html' %}

{% block title %}All NGO Requests - Grace Bites{% endblock %}

{% block content %}
<div class="container">
    <div class="requests-container">
        <h1>All NGO Requests for Food</h1>
        <p>View and fulfill requests from NGOs for food donations.</p>
        
        <div class="requests-grid">
            {% for request in ngo_requests %}
            <div class="request-card">
                <div class="request-header">
                    <h3>{{ request.food_type }}</h3>
                    <span class="status pending">{{ request.status }}</span>
                </div>
                <div class="request-details">
                    <p><strong>Required:</strong> {{ request.quantity_required }}</p>
                    <p><strong>Location:</strong> {{ request.location }}</p>
                    <p><strong>Timing:</strong> {{ request.required_timing|date:"M d, Y H:i" }}</p>
                    <p><strong>From:</strong> {{ request.requester.username }}</p>
                    {% if request.description %}
                        <p><strong>Description:</strong> {{ request.description }}</p>
                    {% endif %}
                </div>
                <div class="request-actions">
                    <a href="{% url 'fulfill_ngo_request_from_event' request.id %}" class="btn btn-small">Fulfill Request</a>
                    <a href="{% url 'view_ngo_details_from_event' request.requester.id %}" class="btn btn-small btn-secondary">View NGO</a>
                </div>
            </div>
            {% empty %}
            <div class="empty-state">
                <p>No pending requests from NGOs at the moment.</p>
                <a href="{% url 'eventplanner_dashboard' %}" class="btn">Back to Dashboard</a>
            </div>
            {% endfor %}
        </div>
        
        <div class="actions">
            <a href="{% url 'eventplanner_dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
        </div>
    </div>
</div>
{% endblock %} 